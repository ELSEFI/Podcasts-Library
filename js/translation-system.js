// Comprehensive Translation System
// Default language is Arabic (AR) since the interface is already in Arabic

const translations = {
    en: {
        // Navbar translations
        home: "Home",
        categories: "Categories",
        business: "Business",
        technical: "Technical",
        science: "Science",
        social: "Social",
        education: "Education & Culture",
        selfDevelopment: "Self Development",
        sports: "Sports",
        news: "News & Media",
        health: "Health & Wellness",
        art: "Art & Entertainment",
        personal: "Personal",
        general: "General",
        whatIsPodcast: "What Is Podcast?",
        contact: "Contact",

        // Main page content
        heroTitle: "Discover Amazing Podcasts",
        heroDescription: "Your ultimate destination for the best podcasts across all categories. From technology to entertainment, we've got you covered",
        exploreNow: "Explore Categories",
        topRated: "Top Rated",
        listeners: "Listeners",
        podcastsCount: "Podcasts",
        categoriesCount: "Categories",
        browseCategoriesTitle: "Browse Categories",
        browseCategoriesSubtitle: "Find podcasts by your favorite topics",
        searchPlaceholder: "Search for podcasts...",
        whyChoose: "Why Choose Our Platform",
        whyChooseSubtitle: "Discover what makes our podcast platform unique and powerful",
        communityFeatures: "Community Features",
        communityDesc: "Connect with fellow listeners, share reviews, and join discussions about your favorite podcasts",
        offlineListening: "Offline Listening",
        offlineDesc: "Download your favorite episodes and listen anywhere, anytime without an internet connection",
        smartDiscovery: "Smart Discovery",
        smartDesc: "Advanced AI-powered recommendations help you discover podcasts tailored to your interests and listening habits",
        adFree: "Ad-Free Experience",
        adFreeDesc: "Enjoy uninterrupted listening with our premium ad-free experience and exclusive content access",
        analytics: "Analytics & Insights",
        analyticsDesc: "Track your listening habits with detailed analytics and get personalized insights about your podcast journey",
        crossPlatform: "Cross-Platform Sync",
        crossPlatformDesc: "Seamlessly sync your listening progress across all your devices - phone, tablet, and desktop",
        readyExperience: "Ready to Experience the Future of Podcasting",
        stayUpdated: "Stay Updated",
        getStarted: "Get Started",
        whatIsPodcastTitle: "What Is A Podcast",
        whatIsPodcastDesc: "A podcast is a digital audio program that you can download or stream on your device. Think of it as your personal radio show that you can listen to anytime, anywhere",
        downloadListen: "Download & Listen Offline",
        downloadDesc: "Save episodes to your device and listen without an internet connection",
        listenSchedule: "Listen On Your Schedule",
        scheduleDesc: "Pause, rewind, fast-forward - control your listening experience",
        diverseContent: "Diverse Content",
        diverseDesc: "From education to entertainment, find content that matches your interests",
        learnMore: "Learn More",
        startListening: "Start Listening",
        getInTouch: "Get In Touch",
        getInTouchDesc: "Have questions, suggestions, or want to submit a podcast? We'd love to hear from you",
        sendMessage: "Send us a message",
        getBack: "We'll get back to you within 24 hours",
        firstName: "First Name",
        lastName: "Last Name",
        emailAddress: "Email Address",
        subject: "Subject",
        yourMessage: "Your Message",
        firstNamePlaceholder: "Enter your first name",
        lastNamePlaceholder: "Enter your last name",
        emailPlaceholder: "Enter your email address",
        messagePlaceholder: "Tell us about your inquiry, feedback, or podcast submission...",
        // Category descriptions
        technicalDesc: "Programming, AI, cybersecurity, and tech trends",
        businessDesc: "Entrepreneurship, leadership, and market insights",
        scienceDesc: "Research, discoveries, and scientific discussions",
        healthWellnessDesc: "Fitness, nutrition, mental health, and wellbeing",
        selfDevelopmentDesc: "Personal growth, productivity, and life skills",
        personalDesc: "Life stories, experiences, and personal journeys",
        socialDesc: "Society, culture, and social issues discussions",
        newsMediaDesc: "Current events, journalism, and media analysis",
        educationCultureDesc: "Learning, history, and cultural exploration",
        generalDesc: "Diverse topics and general interest content",
        artEntertainmentDesc: "Movies, music, literature, and creative arts",
        sportsDesc: "Latest sports news, analysis, and interviews",
        // Dropdown options
        generalInquiry: "General Inquiry",
        podcastSubmission: "Podcast Submission",
        technicalSupport: "Technical Support",
        partnershipOpportunity: "Partnership Opportunity",
        feedback: "Feedback",
        // Badge text
        podcastsText: "Podcasts",
        // Newsletter and contact
        newsletterSubscribe: "Subscribe to our newsletter for updates on new podcasts",
        sendMessageBtn: "Send Message",
        emailUs: "Email Us",
        submitPodcast: "Submit Podcast",
        submitPodcastDesc: "Share your amazing content with our community",
        support: "Support",
        supportDesc: "We're here to help you 24/7"
    },
    ar: {
        // Navbar translations (current Arabic content)
        home: "الرئيسية",
        categories: "التصنيفات",
        business: "الأعمال",
        technical: "التقني",
        science: "العلوم",
        social: "اجتماعي",
        education: "التعليم والثقافة",
        selfDevelopment: "التطوير الذاتي",
        sports: "الرياضة",
        news: "الأخبار والإعلام",
        health: "الصحة والعافية",
        art: "الفن والترفيه",
        personal: "شخصي",
        general: "عام",
        sports: "الرياضة",
        whatIsPodcast: "ما هو البودكاست؟",
        contact: "اتصل بنا",

        // Main page content (Arabic translations)
        heroTitle: "اكتشف البودكاست المذهلة",
        heroDescription: "وجهتك النهائية لأفضل البودكاست في جميع الفئات. من التكنولوجيا إلى الترفيه، نحن نغطي كل شيء",
        exploreNow: "استكشف الفئات",
        topRated: "الأعلى تقييماً",
        listeners: "المستمعين",
        podcastsCount: "البودكاست",
        categoriesCount: "الفئات",
        browseCategoriesTitle: "تصفح الفئات",
        browseCategoriesSubtitle: "ابحث عن البودكاست حسب مواضيعك المفضلة",
        searchPlaceholder: "البحث عن البودكاست...",
        whyChoose: "لماذا تختار منصتنا",
        whyChooseSubtitle: "اكتشف ما يجعل منصة البودكاست الخاصة بنا فريدة وقوية",
        communityFeatures: "ميزات المجتمع",
        communityDesc: "تواصل مع المستمعين الآخرين، شارك المراجعات، وانضم للمناقشات حول البودكاست المفضلة لديك",
        offlineListening: "الاستماع دون اتصال",
        offlineDesc: "قم بتنزيل حلقاتك المفضلة واستمع في أي مكان وأي وقت دون اتصال بالإنترنت",
        smartDiscovery: "الاكتشاف الذكي",
        smartDesc: "التوصيات المدعومة بالذكاء الاصطناعي المتقدم تساعدك على اكتشاف البودكاست المصممة وفقاً لاهتماماتك وعادات الاستماع",
        adFree: "تجربة خالية من الإعلانات",
        adFreeDesc: "استمتع بالاستماع دون انقطاع مع تجربتنا المميزة الخالية من الإعلانات والوصول للمحتوى الحصري",
        analytics: "التحليلات والرؤى",
        analyticsDesc: "تتبع عادات الاستماع الخاصة بك مع التحليلات التفصيلية واحصل على رؤى شخصية حول رحلة البودكاست الخاصة بك",
        crossPlatform: "المزامنة عبر المنصات",
        crossPlatformDesc: "قم بمزامنة تقدم الاستماع الخاص بك بسلاسة عبر جميع أجهزتك - الهاتف والجهاز اللوحي وسطح المكتب",
        readyExperience: "هل أنت مستعد لتجربة مستقبل البودكاست؟",
        stayUpdated: "ابق محدثاً",
        getStarted: "ابدأ الآن",
        whatIsPodcastTitle: "ما هو البودكاست",
        whatIsPodcastDesc: "البودكاست هو برنامج صوتي رقمي يمكنك تنزيله أو بثه على جهازك. فكر فيه كبرنامجك الإذاعي الشخصي الذي يمكنك الاستماع إليه في أي وقت وفي أي مكان",
        downloadListen: "تنزيل والاستماع دون اتصال",
        downloadDesc: "احفظ الحلقات على جهازك واستمع دون اتصال بالإنترنت",
        listenSchedule: "استمع وفقاً لجدولك الزمني",
        scheduleDesc: "إيقاف مؤقت، إرجاع، تقديم سريع - تحكم في تجربة الاستماع الخاصة بك",
        diverseContent: "محتوى متنوع",
        diverseDesc: "من التعليم إلى الترفيه، ابحث عن المحتوى الذي يناسب اهتماماتك",
        learnMore: "تعلم المزيد",
        startListening: "ابدأ الاستماع",
        getInTouch: "ابق على تواصل",
        getInTouchDesc: "هل لديك أسئلة أو اقتراحات أو تريد تقديم بودكاست؟ نحن نحب أن نسمع منك",
        sendMessage: "أرسل لنا رسالة",
        getBack: "سنعود إليك خلال 24 ساعة",
        firstName: "الاسم الأول",
        lastName: "اسم العائلة",
        emailAddress: "عنوان البريد الإلكتروني",
        subject: "الموضوع",
        yourMessage: "رسالتك",
        firstNamePlaceholder: "أدخل اسمك الأول",
        lastNamePlaceholder: "أدخل اسم العائلة",
        emailPlaceholder: "أدخل عنوان بريدك الإلكتروني",
        messagePlaceholder: "أخبرنا عن استفسارك أو ملاحظاتك أو تقديم البودكاست...",
        // Category descriptions
        technicalDesc: "البرمجة والذكاء الاصطناعي والأمن السيبراني واتجاهات التكنولوجيا",
        businessDesc: "ريادة الأعمال والقيادة ورؤى السوق",
        scienceDesc: "البحث والاكتشافات والمناقشات العلمية",
        healthWellnessDesc: "اللياقة البدنية والتغذية والصحة النفسية والعافية",
        selfDevelopmentDesc: "النمو الشخصي والإنتاجية ومهارات الحياة",
        personalDesc: "قصص الحياة والتجارب والرحلات الشخصية",
        socialDesc: "المجتمع والثقافة ومناقشات القضايا الاجتماعية",
        newsMediaDesc: "الأحداث الجارية والصحافة وتحليل الإعلام",
        educationCultureDesc: "التعلم والتاريخ والاستكشاف الثقافي",
        generalDesc: "مواضيع متنوعة ومحتوى ذات اهتمام عام",
        artEntertainmentDesc: "الأفلام والموسيقى والأدب والفنون الإبداعية",
        sportsDesc: "أحدث أخبار الرياضة والتحليلات والمقابلات",
        // Dropdown options
        generalInquiry: "استفسار عام",
        podcastSubmission: "تقديم بودكاست",
        technicalSupport: "الدعم التقني",
        partnershipOpportunity: "فرصة شراكة",
        feedback: "ملاحظات",
        // Badge text
        podcastsText: "بودكاست",
        // Newsletter and contact
        newsletterSubscribe: "اشترك في نشرتنا الإخبارية للحصول على تحديثات حول البودكاست الجديدة",
        sendMessageBtn: "إرسال رسالة",
        emailUs: "راسلنا عبر البريد الإلكتروني",
        submitPodcast: "تقديم بودكاست",
        submitPodcastDesc: "شارك محتواك المذهل مع مجتمعنا",
        support: "الدعم",
        supportDesc: "نحن هنا لمساعدتك على مدار الساعة طوال أيام الأسبوع"
    }
};

class TranslationSystem {
    constructor() {
        this.currentLanguage = 'ar'; // Default to Arabic
        this.init();
    }

    init() {
        console.log('🌐 Translation System Initialized');
        this.setupLanguageButton();
        this.loadSavedLanguage();
        this.translatePage();
    }

    setupLanguageButton() {
        // Wait for navbar to load
        setTimeout(() => {
            const languageButton = document.getElementById('languageToggle');
            if (languageButton) {
                this.updateLanguageButton(languageButton);
                languageButton.addEventListener('click', (e) => {
                    e.preventDefault();
                    this.toggleLanguage();
                });
                console.log('✅ Language button setup complete');
            }
        }, 1000);
    }

    loadSavedLanguage() {
        const saved = localStorage.getItem('language');
        if (saved && (saved === 'en' || saved === 'ar')) {
            this.currentLanguage = saved;
        }
        this.updatePageDirection();
    }

    toggleLanguage() {
        this.currentLanguage = this.currentLanguage === 'ar' ? 'en' : 'ar';
        localStorage.setItem('language', this.currentLanguage);
        this.translatePage();
        this.updatePageDirection();
        this.updateLanguageButton();
        this.showNotification();
        console.log(`🔄 Language switched to: ${this.currentLanguage}`);
    }

    translatePage() {
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[this.currentLanguage] && translations[this.currentLanguage][key]) {
                element.textContent = translations[this.currentLanguage][key];
            }
        });

        // Translate placeholder attributes
        const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.getAttribute('data-translate-placeholder');
            if (translations[this.currentLanguage] && translations[this.currentLanguage][key]) {
                element.placeholder = translations[this.currentLanguage][key];
            }
        });

        // Translate specific elements without data-translate attributes
        this.translateSpecificElements();
    }

    translateSpecificElements() {
        const lang = this.currentLanguage;
        const t = translations[lang];

        // Update search placeholder
        const searchInput = document.querySelector('#searchInput, input[placeholder*="Search"], input[placeholder*="البحث"]');
        if (searchInput) {
            searchInput.placeholder = t.searchPlaceholder;
        }

        // Stats section labels
        const statLabels = document.querySelectorAll('.stat-label');
        if (statLabels.length >= 3) {
            statLabels[0].textContent = t.categoriesCount;
            statLabels[1].textContent = t.podcastsCount;
            statLabels[2].textContent = t.listeners;
        }

        // Translate feature cards by content
        this.translateFeatureCards(t);

        // Translate section titles and descriptions
        this.translateSectionTitles(t);

        // Translate buttons
        this.translateButtons(t);

        // Translate form placeholders and labels
        this.translateFormElements(t);

        // Translate category descriptions
        this.translateCategoryDescriptions(t);

        // Translate dropdown options
        this.translateDropdownOptions(t);

        // Translate badges
        this.translateBadges(t);
    }

    translateCategoryDescriptions(t) {
        // Category cards descriptions
        const categoryDescriptions = document.querySelectorAll('.category-description');
        categoryDescriptions.forEach(desc => {
            const categoryCard = desc.closest('.category-card');
            if (!categoryCard) return;

            const categoryData = categoryCard.getAttribute('data-category');
            const categoryTitle = categoryCard.querySelector('.card-title');

            if (!categoryTitle) return;

            const title = categoryTitle.textContent.trim().toLowerCase();

            // Match based on data attribute or title content
            if (categoryData === 'technical' || title.includes('technical') || title.includes('تقني')) {
                categoryTitle.textContent = t.technical;
                desc.textContent = t.technicalDesc;
            }
            else if (categoryData === 'business' || title.includes('business') || title.includes('أعمال')) {
                categoryTitle.textContent = t.business;
                desc.textContent = t.businessDesc;
            }
            else if (categoryData === 'science' || title.includes('science') || title.includes('علوم')) {
                categoryTitle.textContent = t.science;
                desc.textContent = t.scienceDesc;
            }
            else if (categoryData === 'health wellness' || title.includes('health') || title.includes('wellness') || title.includes('صحة')) {
                categoryTitle.textContent = t.health;
                desc.textContent = t.healthWellnessDesc;
            }
            else if (categoryData === 'self development' || title.includes('self-development') || title.includes('تطوير')) {
                categoryTitle.textContent = t.selfDevelopment;
                desc.textContent = t.selfDevelopmentDesc;
            }
            else if (categoryData === 'personal' || title.includes('personal') || title.includes('شخصي')) {
                categoryTitle.textContent = t.personal;
                desc.textContent = t.personalDesc;
            }
            else if (categoryData === 'social' || title.includes('social') || title.includes('اجتماعي')) {
                categoryTitle.textContent = t.social;
                desc.textContent = t.socialDesc;
            }
            else if (categoryData === 'news media' || title.includes('news') || title.includes('media') || title.includes('أخبار')) {
                categoryTitle.textContent = t.news;
                desc.textContent = t.newsMediaDesc;
            }
            else if (categoryData === 'education culture' || title.includes('education') || title.includes('culture') || title.includes('تعليم')) {
                categoryTitle.textContent = t.education;
                desc.textContent = t.educationCultureDesc;
            }
            else if (categoryData === 'general' || title.includes('general') || title.includes('عام')) {
                categoryTitle.textContent = t.general;
                desc.textContent = t.generalDesc;
            }
            else if (categoryData === 'art entertainment' || title.includes('art') || title.includes('entertainment') || title.includes('فن')) {
                categoryTitle.textContent = t.art;
                desc.textContent = t.artEntertainmentDesc;
            }
            else if (categoryData === 'sports' || title.includes('sports') || title.includes('رياضة')) {
                categoryTitle.textContent = t.sports;
                desc.textContent = t.sportsDesc;
            }
        });
    }

    translateDropdownOptions(t) {
        // Subject dropdown options
        const subjectSelect = document.querySelector('#subject');
        if (subjectSelect) {
            const options = subjectSelect.querySelectorAll('option');
            options.forEach(option => {
                const value = option.getAttribute('value');
                if (value === 'general') {
                    option.textContent = t.generalInquiry;
                }
                else if (value === 'podcast-submission') {
                    option.textContent = t.podcastSubmission;
                }
                else if (value === 'technical-support') {
                    option.textContent = t.technicalSupport;
                }
                else if (value === 'partnership') {
                    option.textContent = t.partnershipOpportunity;
                }
                else if (value === 'feedback') {
                    option.textContent = t.feedback;
                }
            });
        }
    }

    translateBadges(t) {
        // Translate podcast count badges
        const badges = document.querySelectorAll('.badge');
        badges.forEach(badge => {
            const text = badge.textContent;
            if (text.includes('Podcasts') || text.includes('بودكاست')) {
                const number = text.match(/\d+\+?/);
                if (number) {
                    badge.textContent = `${number[0]} ${t.podcastsText}`;
                }
            }
        });
    }

    translateSectionTitles(t) {
        // Why Choose Our Platform section
        const whyChooseTitle = document.querySelector('h2');
        if (whyChooseTitle && (whyChooseTitle.textContent.includes('Why Choose') || whyChooseTitle.textContent.includes('لماذا تختار'))) {
            whyChooseTitle.textContent = t.whyChoose;
            const subtitle = whyChooseTitle.nextElementSibling;
            if (subtitle && subtitle.tagName === 'P') {
                subtitle.textContent = t.whyChooseSubtitle;
            }
        }

        // Ready to Experience section
        const readyTitle = document.querySelector('h2[class*="text-center"], h2');
        if (readyTitle && (readyTitle.textContent.includes('Ready to Experience') || readyTitle.textContent.includes('هل أنت مستعد'))) {
            readyTitle.textContent = t.readyExperience;
        }

        // What is podcast section
        const podcastTitle = document.querySelector('h2');
        if (podcastTitle && (podcastTitle.textContent.includes('What Is A Podcast') || podcastTitle.textContent.includes('ما هو البودكاست'))) {
            podcastTitle.textContent = t.whatIsPodcastTitle;
            const podcastDesc = podcastTitle.nextElementSibling;
            if (podcastDesc && podcastDesc.tagName === 'P') {
                podcastDesc.textContent = t.whatIsPodcastDesc;
            }
        }

        // Get In Touch section
        const contactTitle = document.querySelector('h2');
        if (contactTitle && (contactTitle.textContent.includes('Get In Touch') || contactTitle.textContent.includes('ابق على تواصل'))) {
            contactTitle.textContent = t.getInTouch;
            const contactDesc = contactTitle.nextElementSibling;
            if (contactDesc && contactDesc.tagName === 'P') {
                contactDesc.textContent = t.getInTouchDesc;
            }
        }
    }

    translateButtons(t) {
        // Get Started and Stay Updated buttons
        const buttons = document.querySelectorAll('button, .btn, a[class*="btn"]');
        buttons.forEach(btn => {
            const text = btn.textContent.trim();
            if (text.includes('Get Started') || text.includes('ابدأ الآن')) {
                btn.innerHTML = btn.innerHTML.replace(/Get Started|ابدأ الآن/, t.getStarted);
            }
            if (text.includes('Stay Updated') || text.includes('ابق محدثاً')) {
                btn.innerHTML = btn.innerHTML.replace(/Stay Updated|ابق محدثاً/, t.stayUpdated);
            }
            if (text.includes('Start Listening') || text.includes('ابدأ الاستماع')) {
                btn.innerHTML = btn.innerHTML.replace(/Start Listening|ابدأ الاستماع/, t.startListening);
            }
            if (text.includes('Learn More') || text.includes('تعلم المزيد')) {
                btn.innerHTML = btn.innerHTML.replace(/Learn More|تعلم المزيد/, t.learnMore);
            }
            if (text.includes('Send Message') || text.includes('أرسل لنا رسالة')) {
                btn.innerHTML = btn.innerHTML.replace(/Send Message|أرسل لنا رسالة/, t.sendMessage);
            }
        });
    }

    translateFormElements(t) {
        // Form placeholders
        const inputs = document.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            const placeholder = input.placeholder;
            if (placeholder.includes('first name') || placeholder.includes('اسمك الأول')) {
                input.placeholder = t.firstName;
            }
            if (placeholder.includes('last name') || placeholder.includes('اسمك الأخير')) {
                input.placeholder = t.lastName;
            }
            if (placeholder.includes('email') || placeholder.includes('بريدك الإلكتروني')) {
                input.placeholder = t.email;
            }
            if (placeholder.includes('message') || placeholder.includes('رسالتك')) {
                input.placeholder = t.message;
            }
        });

        // Form messages
        const formMessages = document.querySelectorAll('p, .text-muted, .form-text');
        formMessages.forEach(msg => {
            const text = msg.textContent;
            if (text.includes('24 hours') || text.includes('24 ساعة')) {
                msg.textContent = t.getBack;
            }
        });
    }

    translateFeatureCards(t) {
        // Find feature cards by different selectors
        const featureCards = document.querySelectorAll('h3, .card-title, .feature-title, h4, h5');
        featureCards.forEach(card => {
            const title = card.textContent.trim();
            let description = card.nextElementSibling;

            // Sometimes description is in a different structure
            if (!description || description.tagName === 'DIV') {
                description = card.parentElement.querySelector('p, .card-text, .description');
            }

            // Translate based on English or Arabic content
            if (title.includes('Community Features') || title.includes('ميزات المجتمع')) {
                card.textContent = t.communityFeatures;
                if (description) description.textContent = t.communityDesc;
            }
            else if (title.includes('Offline Listening') || title.includes('الاستماع دون اتصال')) {
                card.textContent = t.offlineListening;
                if (description) description.textContent = t.offlineDesc;
            }
            else if (title.includes('Smart Discovery') || title.includes('الاكتشاف الذكي')) {
                card.textContent = t.smartDiscovery;
                if (description) description.textContent = t.smartDesc;
            }
            else if (title.includes('Ad-Free Experience') || title.includes('تجربة خالية من الإعلانات')) {
                card.textContent = t.adFree;
                if (description) description.textContent = t.adFreeDesc;
            }
            else if (title.includes('Analytics & Insights') || title.includes('التحليلات والرؤى')) {
                card.textContent = t.analytics;
                if (description) description.textContent = t.analyticsDesc;
            }
            else if (title.includes('Cross-Platform Sync') || title.includes('المزامنة عبر المنصات')) {
                card.textContent = t.crossPlatform;
                if (description) description.textContent = t.crossPlatformDesc;
            }
            else if (title.includes('Download & Listen Offline') || title.includes('تنزيل والاستماع دون اتصال')) {
                card.textContent = t.downloadListen;
                if (description) description.textContent = t.downloadDesc;
            }
            else if (title.includes('Listen On Your Schedule') || title.includes('استمع وفقاً لجدولك الزمني')) {
                card.textContent = t.listenSchedule;
                if (description) description.textContent = t.scheduleDesc;
            }
            else if (title.includes('Diverse Content') || title.includes('محتوى متنوع')) {
                card.textContent = t.diverseContent;
                if (description) description.textContent = t.diverseDesc;
            }
        });
    }

    updatePageDirection() {
        // Keep LTR direction for both languages to maintain layout consistency
        document.documentElement.dir = 'ltr';
        document.documentElement.lang = this.currentLanguage;
        document.body.className = document.body.className.replace(/\b(rtl|ltr)\b/g, '');
        document.body.classList.add('ltr');
        console.log(`Language: ${this.currentLanguage}, Direction: LTR (maintained for layout consistency)`);
    }

    updateLanguageButton(button = null) {
        const langBtn = button || document.getElementById('languageToggle');
        if (langBtn) {
            if (this.currentLanguage === 'ar') {
                langBtn.innerHTML = '<i class="fas fa-globe"></i> AR';
                langBtn.title = 'Switch to English';
                langBtn.style.backgroundColor = '#dc3545';
            } else {
                langBtn.innerHTML = '<i class="fas fa-globe"></i> EN';
                langBtn.title = 'Switch to Arabic';
                langBtn.style.backgroundColor = '#007bff';
            }
            langBtn.style.color = 'white';

            // Reset colors after animation
            setTimeout(() => {
                langBtn.style.backgroundColor = '';
                langBtn.style.color = '';
            }, 1000);
        }
    }

    showNotification() {
        // Remove existing notification
        const existing = document.querySelector('.lang-notification');
        if (existing) existing.remove();

        // Create notification
        const notification = document.createElement('div');
        notification.className = 'lang-notification';
        notification.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: ${this.currentLanguage === 'ar' ? '#dc3545' : '#007bff'};
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            z-index: 10000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            animation: slideIn 0.3s ease-out;
        `;
        notification.textContent = this.currentLanguage === 'ar' ? 'العربية 🇸🇦' : 'English 🇺🇸';

        document.body.appendChild(notification);

        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 2000);
    }
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function () {
    console.log('🌍 Starting Translation System...');
    setTimeout(() => {
        window.translationSystem = new TranslationSystem();
    }, 500);
});
